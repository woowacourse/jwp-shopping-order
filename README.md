# jwp-shopping-order

## API 연동 요구사항

- [x] 클라이언트 - 서버 연동
- [x] 상품, 장바구니 기능이 구현된 코드를 배포한다.
- [x] 상시 배포를 위한 배포 스크립트를 작성한다.
- [x] 클라이언트와 API 연동하며 발생하는 보안 이슈에 대응한다.
    - [x] 프론트엔드/백엔드 애플리케이션의 Origin이 달라서 요청을 처리하지 못하는 경우를 해결한다.

## 기능 요구사항

- [API 명세서](API.md)

### 상품

- [x] 관리자 페이지에서 상품을 추가, 수정, 삭제할 수 있다. (기본 뼈대 코드)
- [x] 상품 목록을 보여준다.

### 장바구니

- [x] 장바구니에 담긴 아이템 목록을 확인할 수 있다. (장바구니 아이템 목록 조회)
- [x] 상품을 장바구니에 추가할 수 있다. (장바구니 아이템 추가)
- [x] 장바구니에 담긴 아이템의 수량을 변경할 수 있다. (장바구니 아이템 수량 변경)
- [x] 장바구니에 담긴 아이템을 삭제할 수 있다. (장바구니 아이템 삭제)

### 주문

- [x] 장바구니에 담은 상품을 주문할 수 있다. (주문 추가)
- [x] 사용자 별로 주문 목록을 확인할 수 있다. (주문 목록 조회)
- [x] 특정 주문의 상세 정보를 확인할 수 있다. (주문 상세 조회)
- [x] 특정 주문을 삭제할 수 있다. (주문 삭제)
- [x] 특정 주문의 상태를 결제 취소로 변경할 수 있다. (주문 취소)

### 쿠폰

- [x] 장바구니에 담은 상품 주문 시, 사용자가 가지고 있는 쿠폰을 적용할 수 있다.
    - [x] 쿠폰은 정액 할인을 기본으로 한다.
    - [x] 주문 당 1개의 쿠폰만 적용할 수 있다.
    - [x] 주문에 사용한 쿠폰은 다시 사용할 수 없다.
    - [x] 쿠폰이 사용된 주문이 결제 취소되면, 다시 사용 가능한 상태가 된다.
- [x] 사용자가 가진, 사용 가능한 쿠폰 목록을 확인할 수 있다.

## 피드백 반영 및 리팩터링 목록

- [x] 사용하지 않는 메소드 삭제
- [x] [모호한 패키지 구조 변경](https://github.com/woowacourse/jwp-shopping-order/pull/47#discussion_r1218263913)
- [x] [Entity 에서 도메인 객체 생성하도록 하기 (도메인 객체가 외부 기술에 의존적이지 않게 함)](https://github.com/woowacourse/jwp-shopping-order/pull/47#discussion_r1218273156)
- [x] [변경에 취약한 도메인 의존 끊기](https://github.com/woowacourse/jwp-shopping-order/pull/47#discussion_r1218254337)
    - [x] member 객체가 필요 없고, id로 조회하는 기능에는 memberId 만을 전달하도록 수정
    - [x] 다른 도메인 객체가 member를 의존하지 않도록 변경
        - 특정 member가 가진 도메인을 조회해야 한다면 memberId를 같이 전달하도록 하기
            - [x] 도메인의 memberId와 member의 id가 일치하지 않는 경우, 도메인의 id가 존재하지 않는 경우 모두 도메인의 id가 잘못된 것으로 판단
- [x] 사용자 정보 없으면 null 반환 대신 예외 발생
- [x] 단위 테스트 추가
- [x] API 문서 자동화
